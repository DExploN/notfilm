<?	namespace controllers;			class _siteController extends \controller{		public function code404($message=NULL){						$data['title']="Страница не найдена";			$data['message404']=$message;			$data['noindex']='noindex';			$this->finalRender('_site/error404',$data);		}						public function clearcache(){			\cache::delete('/',true);			\msg::set('success','Кэш очищен');			user()->addlog('Очистил Кэш');			core()->backpage();		}							public function callback(){			$data['title']="Обратная связь";			$data['description']="Обратная связь";			$data['h1']="Обратная связь";			$data['noindex']='noindex';			$this->finalRender('_site/callback',$data);		}				public function rights(){			$data['title']="Правообладателям";			$data['h1']="Правообладателям";			$data['description']="Правообладателям";			$data['noindex']='noindex';			$this->finalRender('_site/rights',$data);		}				public function money(){			$data['title']="Как заработать на сайте";			$data['h1']="Как заработать на сайте";			$data['description']="Как заработать на сайте";			$data['noindex']='noindex';			$this->finalRender('_site/money',$data);		}				public function sitemapForm(){			$data['title']="Загрузить карту сайта";			$data['h1']="Загрузить карту сайта";			$data['noindex']='noindex';			$data['captcha']=\form::getCaptcha(array('width'=>150));			$this->finalRender('_site/sitemap',$data);		}				public function sitemap(){			if($file=\file::get('sitemap',true)){				if($file->ext=='xml'){					$file->name='sitemap.xml';					$file->moveTo('/');					\msg::set('success','Карта сайта загружена');					user()->addlog('Загрузил карту сайта');				}else{					\msg::set('error','Файл должен быть формата xml');				}			}else{				\msg::set('error','Файл не выбран');			}			core()->backpage();		}				public function dosatack(){			header("HTTP/1.0 404 Not Found");			$data['title']="Страница не найдена";			$data['message404']=$message;			$data['noindex']='noindex';			$this->headerView="layout/dosatackheader";			$this->footerView="layout/dosatackfooter";			$this->layoutCAction=NULL;			$this->finalRender('_site/error404',$data);		}								public function accessRules(){			return array(				'sitemapForm'=>(user()->info('id')==1),				'clearcache'=>(user()->info('id')==1),			);		}				public function captchaRules(){			return array('sitemap');		}	}?>